# Python Console App with Auto-Update from GitHub

Едно конзолно приложение написано на Python, което управлява JSON файлове и има автоматична система за обновяване от GitHub.

## Функционалности

- **Управление на JSON файлове**: Четене и създаване на JSON файлове като "памет" на програмата.
- **Автоматично обновяване**: Проверява за нови версии от GitHub при стартиране.
- **Запазване на потребителски данни**: При обновяване, всички JSON файлове се backup-нат и restore-ват автоматично.

## Структура на проекта

```
.
├── main.py          # Главна точка на вход
├── utils.py         # Помощни функции за JSON управление
├── updater.py       # Логика за авто-обновяване
├── version.json     # Информация за текущата версия
├── .gitignore       # Игнорирани файлове (вкл. JSON за сигурност)
└── README.md        # Този файл
```

## Инсталация и настройка

### Прехвърляне на друга машина

1. Копирайте цялата директория на новата машина.
2. Уверете се, че Git и Python са инсталирани.
3. Настройте `updater.py` с вашите GitHub данни:
   - `GITHUB_REPO_OWNER` - ваше GitHub потребителско име
   - `GITHUB_REPO_NAME` - име на хранилището
   - `GIT_BRANCH` - branch за production версии (по подразбиране: "production")

4. Добавете GitHub repository като remote:
   ```bash
   git remote add origin https://github.com/your-username/your-repo.git
   git branch -M main
   git push -u origin main production
   ```

### Стартиране на приложението

```bash
python main.py
```

При стартиране програмата ще:
1. Провери за обновления от GitHub
2. Покаже главното меню
3. Позволи управление на JSON файлове

## Меню на приложението

При стартиране ще видите меню:

```
Изберете действие:
1. Четене от съществуващ JSON файл
2. Създаване на нов JSON файл
```

### Опция 1: Четене от JSON файл
- Показва списък с всички JSON файлове в директорията
- Позволява избор по номер
- Извежда съдържанието на избрания файл

### Опция 2: Създаване на нов JSON файл
- Попита за име на файла
- Попита за съдържание (текст)
- Запазва файла като JSON с допълнителна мета-информация

## Система за версиониране

Проектът поддържа две нива на разработки:

- **Development версии**: За разработчикски подобрения (в `main` branch) - не се обновяват за потребители автоматично
- **Production версии**: За потребителски releases (в `production` branch) - от тук се теглят обновления

### За разработчици
- Работете върху новите версии в `main` branch
- Когато версията е готова за потребители: merge в `production` branch и push
- Добавете tag за версията

### За потребители
- Програмата автоматично проверява `production` branch за нови версии
- При нова версия: backup на данните -> update -> restore на данните
- Потребителските JSON файлове остават непроменени

## Build и deployment

За дистрибутиране:
- Създайте executable с PyInstaller или cx_Freeze
- Включете всички Python файлове и зависимости
- Потребителите нямат нужда от Python инсталация

## Зависими пакети

- Python 3.6+
- urllib (стандартен)
- json (стандартен)
- os (стандартен)
- glob (стандартен)
- shutil (стандартен)
- subprocess (стандартен)
- datetime (стандартен)

## Забележки по сигурността

- JSON файлове на потребителите се игнорират от Git (.gitignore)
- При обновяване се прави backup преди каквото и да е изменение
- Ако обновяването се провали, данните се възстановяват автоматично
